webpackJsonp([0],[,,function(t,s,e){"use strict";var i=e(1),a=e(42),n=e(25),o=e.n(n),r=e(27),c=e.n(r),l=e(29),u=e.n(l),d=e(30),v=e.n(d);i.a.use(a.a),s.a=new a.a({routes:[{path:"/",redirect:"goods",name:"Hello",component:o.a,children:[{path:"goods",name:"goods",component:c.a},{path:"ratings",name:"ratings",component:u.a},{path:"seller",name:"seller",component:v.a}]}],linkActiveClass:"active"})},function(t,s,e){function i(t){e(21)}var a=e(0)(e(6),e(38),i,null,null);t.exports=a.exports},,function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e(1),a=e(3),n=e.n(a),o=e(2),r=e(4);i.a.use(r.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:o.a,template:"<App/>",components:{App:n.a}})},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e(28),a=e.n(i);s.default={name:"app",data:function(){return{seller:{}}},created:function(){var t=this;this.$http.get("/api/seller").then(function(s){s=s.body,0===s.errno&&(t.seller=s.data,console.log(t.seller.avatar))})},components:{"v-header":a.a}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e(1);s.default={props:{foods:{type:Object}},methods:{addCart:function(t){t._constructed&&(this.foods.count?this.foods.count++:i.a.set(this.foods,"count",1))},decreasrCart:function(t){t._constructed&&this.foods.count&&this.foods.count--}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e(26),a=e.n(i),n=e(15),o=e.n(n),r=e(31),c=e.n(r);s.default={props:{sellers:{type:Object}},data:function(){return{goods:{},listHeight:[],scrollY:0}},components:{shopcart:c.a,cortcontrol:a.a},created:function(){var t=this;this.classMap=["decrease","discount","special","invoice","guarantee"],this.$http.get("/api/goods").then(function(s){s=s.body,0===s.errno&&(t.goods=s.data,t.$nextTick(function(){t._initScroll(),t._calculateh()}))})},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var s=this.listHeight[t],e=this.listHeight[t+1];if(!e||this.scrollY>=s&&this.scrollY<e)return t}return 0},selectFoods:function(){var t=[];return this.goods.forEach(function(s){s.foods.forEach(function(s){s.count&&t.push(s)})}),t}},methods:{selectMenu:function(t,s){if(s._constructed){var e=this.$refs.foods.getElementsByClassName("foodlisthook"),i=e[t];this.foodsScroll.scrollToElement(i,300)}},_initScroll:function(){var t=this;this.meunScroll=new o.a(this.$refs.mount,{click:!0}),this.foodsScroll=new o.a(this.$refs.foods,{probeType:3,click:!0}),this.foodsScroll.on("scroll",function(s){t.scrollY=Math.abs(Math.round(s.y))})},_calculateh:function(){var t=this.$refs.foods.getElementsByClassName("foodlisthook"),s=0;this.listHeight.push(s);for(var e=0;e<t.length;e++){s+=t[e].clientHeight,console.log(s),this.listHeight.push(s)}}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e(32),a=e.n(i);s.default={props:{seller:{type:Object}},data:function(){return{detailshow:!1}},methods:{showDetail:function(){this.detailshow=!0},hideDetail:function(){this.detailshow=!1}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},components:{star:a.a}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={props:{selectfood:{type:Array,default:function(){return[{price:5,count:1}]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},computed:{totalPrice:function(){var t=0;return this.selectfood.forEach(function(s){t+=s.price*s.count}),t},totalcount:function(){var t=0;return this.selectfood.forEach(function(s){t+=s.count}),t},payDes:function(){if(0===this.totalPrice)return"￥"+this.minPrice+"元起送";if(this.totalPrice<this.minPrice){return"还差￥"+(this.minPrice-this.totalPrice)+"元"}return"去结算"},payclass:function(){return this.totalPrice<this.minPrice?"not-enough":"enough"}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.default={data:function(){return{star:""}},props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},itemClasses:function(){var t=[],s=Math.floor(2*this.score)/2,e=s%1!=0,i=Math.floor(s);this.star="star"+this.size;for(var a=0;a<i;a++)t.push("on"+this.size);for(e&&t.push("half"+this.size);t.length<5;)t.push("off"+this.size);return t}}}},,function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s,e){function i(t){e(18)}var a=e(0)(e(7),e(35),i,"data-v-24e6547a",null);t.exports=a.exports},function(t,s,e){function i(t){e(17)}var a=e(0)(e(8),e(34),i,null,null);t.exports=a.exports},function(t,s,e){function i(t){e(24)}var a=e(0)(e(9),e(41),i,"data-v-c7de87a4",null);t.exports=a.exports},function(t,s,e){function i(t){e(23)}var a=e(0)(e(10),e(40),i,"data-v-6bc965e0",null);t.exports=a.exports},function(t,s,e){function i(t){e(16)}var a=e(0)(e(11),e(33),i,null,null);t.exports=a.exports},function(t,s,e){function i(t){e(22)}var a=e(0)(e(12),e(39),i,null,null);t.exports=a.exports},function(t,s,e){function i(t){e(19)}var a=e(0)(e(13),e(36),i,"data-v-3b7893a0",null);t.exports=a.exports},function(t,s,e){function i(t){e(20)}var a=e(0)(e(14),e(37),i,null,null);t.exports=a.exports},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement;return(t._self._c||s)("a",[t._v("i am is rating")])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cartcontrol"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.foods.count>0,expression:"foods.count>0"}],staticClass:"cart-decrease",on:{click:t.decreasrCart}},[t._v("-")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.foods.count>0,expression:"foods.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.foods.count))]),t._v(" "),e("div",{staticClass:"cart-add",on:{click:function(s){s.stopPropagation(),t.addCart(s)}}},[t._v("+")])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"tab"},[e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/goods"}},[t._v("商品")])],1),t._v(" "),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/ratings"}},[t._v("评论")])],1),t._v(" "),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/seller"}},[t._v("商家")])],1)]),t._v(" "),e("router-view",{attrs:{seller:t.seller}})],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content"},[e("div",{staticClass:"content-left"},[e("div",{staticClass:"logo-wrapper"},[e("div",{staticClass:"logo",class:{heightlight:t.totalcount>0}},[e("span",{staticClass:"font",class:{heightlight:t.totalcount>0}},[t._v("卖")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totalcount>0,expression:"totalcount>0"}],staticClass:"num"},[t._v(t._s(t.totalcount))])]),t._v(" "),e("div",{staticClass:"price",class:{heightcolor:t.totalcount>0}},[t._v(t._s(t.totalPrice)+"元")]),t._v(" "),e("div",{staticClass:"desc"},[t._v("另需配送费￥"+t._s(t.deliveryPrice)+"元")])]),t._v(" "),e("div",{staticClass:"content-right"},[e("div",{staticClass:"pay",class:t.payclass},[t._v("\n            "+t._s(t.payDes)+"\n        ")])])])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"star",class:t.starType},t._l(t.itemClasses,function(s,i){return e("span",{key:i,staticClass:"star-item",class:[s,t.star]})}))},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("v-header",{attrs:{seller:t.seller}}),t._v(" "),e("router-view",{attrs:{sellers:t.seller}})],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement;return(t._self._c||s)("a",[t._v("i am is seller")])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"header"}},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"64",height:"64",src:t.seller.avatar}})]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"brand"}),t._v(" "),e("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),t._v(" "),e("div",{staticClass:"description"},[t._v("\n        "+t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达\n      ")]),t._v(" "),t.seller.supports?e("div",{staticClass:"support"},[e("span",{staticClass:"icon",class:t.classMap[t.seller.supports[0].type]}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))])]):t._e(),t._v(" "),t.seller.supports?e("div",{staticClass:"support-count",on:{click:t.showDetail}},[e("span",{staticClass:"count"},[t._v(t._s(t.seller.supports.length)+"个")]),t._v(" "),e("i",{staticClass:"icon-keyboard_arrow_right:before"})]):t._e()])]),t._v(" "),e("div",{staticClass:"bulletin-wrapper",on:{click:t.showDetail}},[e("span",{staticClass:"bulletin-title"}),t._v(" "),e("span",{staticClass:"bulletim-text"},[t._v(t._s(t.seller.bulletin))])]),t._v(" "),e("div",{staticClass:"background"},[e("img",{attrs:{src:t.seller.avatar,width:"100%",height:"100%"}})]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.detailshow,expression:"detailshow"}],staticClass:"detail"},[e("div",{staticClass:"detail-wrapper clearfix"},[e("div",{staticClass:"detail-main"},[e("h1",{staticClass:"name"},[t._v(t._s(t.seller.name))]),t._v(" "),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{size:48,score:t.seller.score}})],1),t._v(" "),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"text-iformation"},[t._v("优惠信息")]),t._v(" "),e("div",{staticClass:"line"})]),t._v(" "),t.seller.supports?e("ul",{staticClass:"supports"},t._l(t.seller.supports,function(s,i){return e("li",{key:i,staticClass:"supports-item"},[e("span",{staticClass:"icons",class:t.classMap[t.seller.supports[i].type]}),t._v(" "),e("span",{staticClass:"texts"},[t._v(t._s(t.seller.supports[i].description))])])})):t._e(),t._v(" "),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"text-iformation"},[t._v("商家公告")]),t._v(" "),e("div",{staticClass:"line"})]),t._v(" "),e("div",{staticClass:"bulletins"},[e("p",{staticClass:"contents"},[t._v(t._s(t.seller.bulletin))])])])]),t._v(" "),e("div",{staticClass:"detail-close"},[e("li",{staticClass:"icon-close",on:{click:t.hideDetail}},[t._v("x")])])])])],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{ref:"mount",staticClass:"menu-wrapper"},[e("ul",t._l(t.goods,function(s,i){return e("li",{key:i,staticClass:"menu-item",class:{currnt:t.currentIndex===i},on:{click:function(s){t.selectMenu(i,s)}}},[e("span",{staticClass:"text"},[e("span",{directives:[{name:"show",rawName:"v-show",value:s.type>0,expression:"item.type>0"}],staticClass:"icon",class:t.classMap[s.type]}),t._v(" "+t._s(s.name)+"\n        ")])])}))]),t._v(" "),e("div",{ref:"foods",staticClass:"foods-wrapper"},[e("ul",t._l(t.goods,function(s,i){return e("li",{key:i,staticClass:"food-list foodlisthook"},[e("h1",{staticClass:"title"},[t._v(t._s(s.name))]),t._v(" "),e("ul",t._l(s.foods,function(s,i){return e("li",{key:i,staticClass:"food-item"},[e("div",{staticClass:"icons"},[e("img",{attrs:{src:s.icon}})]),t._v(" "),e("div",{staticClass:"content"},[e("h2",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"desc"},[t._v(t._s(s.description))]),t._v(" "),e("div",{staticClass:"extra"},[e("span",{attrs:{clss:"count"}},[t._v("月售"+t._s(s.sellCount))]),t._v(" "),e("span",[t._v("好评率"+t._s(s.rating)+"%")])]),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[t._v("￥"+t._s(s.price))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:s.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(s.oldPrice))])]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("cortcontrol",{attrs:{foods:s}})],1)])])}))])}))]),t._v(" "),e("shopcart",{attrs:{selectfood:t.selectFoods,"delivery-price":4,"min-price":20}})],1)},staticRenderFns:[]}},,,,function(t,s){}],[5]);
//# sourceMappingURL=app.aa50d873d8d095598363.js.map